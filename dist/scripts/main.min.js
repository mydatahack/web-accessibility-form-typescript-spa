!function(){"use strict";var e="original",t="accessible",r=(n.prototype.render=function(){this.target.insertAdjacentHTML("afterend",'<form class="example-form" id="example-form">\n  <h4 class="form-title">Hackathon Registration</h4>\n  <p class="form-subtitle">*No accessibility support - use screen reader to verify</p>\n  <div class="input-field">\n    <label class="form-label" for="title">Title</label>\n    <select id="title" class="form-input" name="title" required>\n      <optgroup>\n      <option value="">Select your title</option>\n      </optgroup>\n      <option value="Dr">Dr</option>\n      <option value="Master">Master</option>\n      <option value="Ms">Ms</option>\n      <option value="Mrs">Mrs</option>\n      <option value="Mr">Mr</option>\n      <option value="Mx">Mx</option>\n      <option value="Other">Other</option>\n    </select>\n  </div>\n\n  <div class="input-field">\n    <label class="form-label" for="firstname">First name</label>\n    <input type="text" class="form-input" id="firstname" name="firstname" placeholder="Your first name" required />\n  </div>\n\n  <div class="input-field">\n    <label class="form-label" for="lastname">Last name</label>\n    <input type="text" class="form-input" id="lastname" name="lastname" placeholder="Your last name" required />\n  </div>\n\n  <div class="input-field">\n    <label class="form-label" for="email">Email</label>\n    <input type="email" class="form-input" id="email" name="email" placeholder="Your email" required />\n  </div>\n\n  <div class="input-field">\n    <label class="form-label" for="phone">Phone</label>\n    <input type="text" class="form-input" id="phone" name="phone" placeholder="Your phone number" required />\n  </div>\n\n  <div class="input-field">\n    <label class="form-label">Venue Location</label>\n    <div class="radio-button-container venueLocation-group">\n      <div class="radio-button-group">\n        <input type="radio" class="radio-input radio-input-ac" id="sydney" name="venue" value="Sydney" aria-checked="false" required />\n        <label class="radio-label" for="sydney">\n          <span class="ph-tick"></span>\n          Sydney\n        </label>\n      </div>\n      <div class="radio-button-group">\n        <input type="radio" class="radio-input radio-input-ac" id="melbourne" name="venue" value="melbourne" aria-checked="false" />\n        <label class="radio-label" for="melbourne">\n          <span class="ph-tick"></span>\n          Melbourne\n        </label>\n      </div>\n      <div class="radio-button-group">\n        <input type="radio" class="radio-input radio-input-ac" id="adelaide" name="venue" value="adelaide" aria-checked="false" />\n        <label class="radio-label" for="adelaide">\n          <span class="ph-tick"></span>\n          Adelaide\n        </label>\n      </div>\n      <div class="radio-button-group">\n        <input type="radio" class="radio-input radio-input-ac" id="brisbane" name="venue" value="brisbane" aria-checked="false" />\n        <label class="radio-label" for="brisbane">\n          <span class="ph-tick"></span>\n          Brisbane\n        </label>\n      </div>\n      <div class="radio-button-group">\n        <input type="radio" class="radio-input radio-input-ac" id="perth" name="venue" value="perth" aria-checked="false" />\n        <label class="radio-label" for="perth">\n          <span class="ph-tick"></span>\n          Perth\n        </label>\n      </div>\n      <div class="radio-button-group">\n        <input type="radio" class="radio-input radio-input-ac" id="goldcoast" name="venue" value="goldcoast" aria-checked="false" />\n        <label class="radio-label" for="goldcoast">\n          <span class="ph-tick"></span>\n          Gold Coast\n        </label>\n      </div>\n    </div>\n  </div>\n\n  <div class="input-field">\n    <label class="form-label" for="tellus">Tell us about yourself</label>\n    <textarea class="form-input-textarea" id="tellus" name="tellus" row = "10" placeholder="Go for it..."></textarea>\n  </div>\n\n  <div class="input-field">\n    <p class="checkbox-title">Subscribe to our news letter</p>\n    <div class="checkbox-group">\n      <input type="checkbox" class="radio-input" id="subscribe" name="subscribe"/>\n      <label class="radio-label" for="subscribe">\n        <span class="ph-tick"></span>\n        Subscribe\n      </label>\n    </div>\n  </div>\n  <button type="submit" class="submit-btn">Submit</button>\n</form>')},n);function n(e){this.target=e}var o=(a.prototype.render=function(){this.target.insertAdjacentHTML("afterend",'<form class="example-form-accessible" id="example-form">\n<h4 class="form-title">Hackathon Registration</h4>\n<p class="form-subtitle">*Accessibility support added - use screen reader to verify</p>\n<p class="sr-only">To attend a hackathon event, please continue to register.</p>\n<div class="input-field">\n  <label class="form-label" for="title">Title</label>\n  <select id="title" class="form-input" name="title" required aria-required="true">\n    <optgroup>\n    <option value="">Select your title</option>\n    </optgroup>\n    <option value="Dr">Dr</option>\n    <option value="Master">Master</option>\n    <option value="Ms">Ms</option>\n    <option value="Mrs">Mrs</option>\n    <option value="Mr">Mr</option>\n    <option value="Mx">Mx</option>\n    <option value="Other">Other</option>\n  </select>\n</div>\n\n<div class="input-field">\n  <label class="form-label" for="firstname">First name</label>\n  <input type="text" class="form-input" id="firstname" name="firstname" required aria-required="true" placeholder="Enter your first name" />\n</div>\n\n<div class="input-field">\n  <label class="form-label" for="lastname">Last name</label>\n  <input type="text" class="form-input" id="lastname" name="lastname" required aria-required="true" placeholder="Enter your last name" />\n</div>\n\n<div class="input-field">\n  <label class="form-label" for="email">Email</label>\n  <input type="email" class="form-input" id="email" name="email" required aria-required="true" placeholder="Enter your email" />\n</div>\n\n<div class="input-field">\n  <label class="form-label" for="phone">Phone</label>\n  <input type="text" class="form-input" id="phone" name="phone" required aria-required="true" placeholder="Enter your phone number" />\n</div>\n\n<fieldset class="input-field" tabindex=0 >\n  <legend class="form-label">Venue Location</legend>\n  <p class="sr-only">Please select the city you would like to attend.</p>\n  <div class="radio-button-container venueLocation-group" role="radiogroup" aria-required="true">\n    <div class="radio-button-group" tabindex=0>\n      <input type="radio" class="radio-input" id="sydney" name="venue" value="Sydney" required />\n      <label class="radio-label" for="sydney">\n        <span class="ph-tick"></span>\n        Sydney\n      </label>\n    </div>\n    <div class="radio-button-group" tabindex=0>\n      <input type="radio" class="radio-input" id="melbourne" name="venue" value="melbourne" />\n      <label class="radio-label" for="melbourne">\n        <span class="ph-tick"></span>\n        Melbourne\n      </label>\n    </div>\n    <div class="radio-button-group" tabindex=0>\n      <input type="radio" class="radio-input" id="adelaide" name="venue" value="adelaide" />\n      <label class="radio-label" for="adelaide">\n        <span class="ph-tick"></span>\n        Adelaide\n      </label>\n    </div>\n    <div class="radio-button-group" tabindex=0>\n      <input type="radio" class="radio-input" id="brisbane" name="venue" value="brisbane" />\n      <label class="radio-label" for="brisbane">\n        <span class="ph-tick"></span>\n        Brisbane\n      </label>\n    </div>\n    <div class="radio-button-group" tabindex=0>\n      <input type="radio" class="radio-input" id="perth" name="venue" value="perth" />\n      <label class="radio-label" for="perth">\n        <span class="ph-tick"></span>\n        Perth\n      </label>\n    </div>\n    <div class="radio-button-group" tabindex=0>\n      <input type="radio" class="radio-input" id="goldcoast" name="venue" value="goldcoast" />\n      <label class="radio-label" for="goldcoast">\n        <span class="ph-tick"></span>\n        Gold Coast\n      </label>\n    </div>\n  </div>\n</fieldset>\n\n<div class="input-field">\n  <label class="form-label" for="tellus">Tell us about yourself</label>\n  <textarea class="form-input-textarea" id="tellus" name="tellus" row = "10" placeholder="Go for it..."></textarea>\n</div>\n\n<fieldset class="input-field" tabindex=0>\n  <legend class="checkbox-title">Subscribe to our news letter</legend>\n  <div class="checkbox-group">\n    <input type="checkbox" class="checkbox-input checkbox-input-ac" id="subscribe" name="subscribe" aria-checked="false"/>\n    <label class="radio-label" for="subscribe">\n      <span class="ph-tick"></span>\n      Subscribe\n    </label>\n  </div>\n</fieldset>\n<button type="submit" class="submit-btn">Submit</button>\n</form>')},a);function a(e){this.target=e}var i=(l.prototype.init=function(){this.selectStyleAddEvents()},l.prototype.selectStyleAddEvents=function(){for(var r=this,e=function(t){t.addEventListener("input",function(e){r.changeStyle(e.target.value,t)}),t.addEventListener("blur",function(e){r.changeStyle(e.target.value,t)}),t.addEventListener("focus",function(){t.style.color="black"})},t=0,n=this.selectElements;t<n.length;t++)e(n[t])},l.prototype.changeStyle=function(e,t){0<e.length?t.style.color="black":t.style.color="rgb(117, 117, 117)"},l);function l(e){this.formElement=e,this.selectElements=this.formElement.querySelectorAll("select")}var s=(u.prototype.init=function(){var a=this;this.formElement.querySelector(".submit-btn").addEventListener("click",function(e){e.preventDefault(),a.handleSubmit();var t=a.store.getFormData();console.log(a.store.getFormData());var r=a.validateFieldsAndIndicateErrorInput(t);a.addErrorMessage(r);var n=a.formElement.querySelector(".form-title").offsetTop;if(console.log(n),a.formElement.querySelector(".form-title").scrollIntoView(!0),!r){var o="\n        Form Submission Successfull!\n\n        Title: "+t.title+"\n        Firstname: "+t.firstName+"\n        Lastname: "+t.lastName+"\n        Email: "+t.email+"\n        Phone: "+t.phone+"\n        Venue Location: "+t.venueLocation+"\n        Tell us about yourself: "+t.aboutYourself+"\n        Subscribed: "+(t.subscribe?"Yes":"No")+"\n        ";window.confirm(o)&&a.clearForm()}});for(var e=0,t=this.formElement.querySelectorAll(".input-field");e<t.length;e++)t[e].addEventListener("change",function(e){a.formElement.querySelector(".required-error-msg")&&e.target.value&&(a.removeErrorBorder(e.target.classList),a.removeErrorMessage())});for(var r=0,n=this.formElement.querySelectorAll(".radio-input");r<n.length;r++)n[r].addEventListener("change",function(e){a.formElement.querySelector(".required-error-msg")&&e.target.value&&(a.removeErrorBorder(a.formElement.querySelector(".venueLocation-group").classList),a.removeErrorMessage())})},u.prototype.removeErrorMessage=function(){this.formElement.querySelectorAll(".error-border").length||this.formElement.querySelector(".required-error-msg").remove()},u.prototype.clearForm=function(){this.formElement.querySelector("#title").value="",this.formElement.querySelector("#title").dispatchEvent(new Event("input")),this.formElement.querySelector("#firstname").value="",this.formElement.querySelector("#lastname").value="",this.formElement.querySelector("#email").value="",this.formElement.querySelector("#phone").value="";for(var e=0,t=this.formElement.querySelectorAll(".radio-input");e<t.length;e++)t[e].checked=!1;this.formElement.querySelector("#tellus").value="",this.formElement.querySelector("#subscribe").checked=!1},u.prototype.handleSubmit=function(){this.store.updateFormData(this.getFormValues()),this.store.updateFormSubmitted(!0)},u.prototype.getFormValues=function(){return{title:this.formElement.querySelector("#title").value,firstName:this.formElement.querySelector("#firstname").value,lastName:this.formElement.querySelector("#lastname").value,email:this.formElement.querySelector("#email").value,phone:this.formElement.querySelector("#phone").value,venueLocation:this.getVenueLocation(this.formElement.querySelectorAll(".radio-input")),aboutYourself:this.formElement.querySelector("#tellus").value,subscribe:this.formElement.querySelector("#subscribe").checked}},u.prototype.validateFieldsAndIndicateErrorInput=function(e){var t=!1,r=this.formElement.querySelector("#title").classList,n=this.formElement.querySelector("#firstname").classList,o=this.formElement.querySelector("#lastname").classList,a=this.formElement.querySelector("#email").classList,i=this.formElement.querySelector("#phone").classList,l=this.formElement.querySelector(".venueLocation-group").classList;return r.contains("error-border")&&this.removeErrorBorder(r),n.contains("error-border")&&this.removeErrorBorder(n),o.contains("error-border")&&this.removeErrorBorder(o),a.contains("error-border")&&this.removeErrorBorder(a),i.contains("error-border")&&this.removeErrorBorder(i),l.contains("error-border")&&this.removeErrorBorder(l),e.title.length<1&&(this.addErrorBorder(r),t=!0),e.firstName.length<1&&(this.addErrorBorder(n),t=!0),e.lastName.length<1&&(this.addErrorBorder(o),t=!0),e.email.length<1&&(this.addErrorBorder(a),t=!0),e.phone.length<1&&(this.addErrorBorder(i),t=!0),e.venueLocation.length<1&&(this.addErrorBorder(l),t=!0),t},u.prototype.removeErrorBorder=function(e){e.remove("error-border")},u.prototype.addErrorBorder=function(e){e.add("error-border")},u.prototype.addErrorMessage=function(e){var t=this.formElement.querySelector(".required-error-msg");t&&t.remove(),e&&this.formElement.querySelector(".form-subtitle").insertAdjacentHTML("afterend","<span class='required-error-msg'>Required field must be filled</span>")},u.prototype.getVenueLocation=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(n.checked)return n.value}return""},u);function u(e,t){this.formElement=e,this.store=t}var c=(d.prototype.init=function(){this.selectEventHandler.init(),this.radioInputHandler(),this.checkboxInputHandler(),this.submitHandler.init()},d.prototype.radioInputHandler=function(){var e=this.formElement.querySelectorAll(".radio-input-ac");this.addEventListenerForAriaCheckedRadio(e)},d.prototype.checkboxInputHandler=function(){var e=this.formElement.querySelectorAll(".checkbox-input-ac");this.addEventListenerForAriaCheckedCheckBox(e)},d.prototype.addEventListenerForAriaCheckedRadio=function(n){for(var e=0,t=n;e<t.length;e++)t[e].addEventListener("click",function(){for(var e=0,t=n;e<t.length;e++){var r=t[e];r.checked?r.setAttribute("aria-checked","true"):r.setAttribute("aria-checked","false")}})},d.prototype.addEventListenerForAriaCheckedCheckBox=function(e){for(var t=this,r=0,n=e;r<n.length;r++)n[r].addEventListener("click",function(e){t.setAriaChecked(e.target)})},d.prototype.setAriaChecked=function(e){e.checked?e.setAttribute("aria-checked","true"):e.setAttribute("aria-checked","false")},d);function d(e,t){this.formElement=e,this.selectEventHandler=new i(this.formElement),this.store=t,this.submitHandler=new s(e,this.store)}var p=(m.prototype.render=function(){switch(this.store.getFormType()){case e:this.originalForm.render(),this.addFormEventListeners();break;case t:this.accessibleForm.render(),this.addFormEventListeners();break;default:this.originalForm.render(),this.addFormEventListeners()}},m.prototype.reRender=function(){var e=document.querySelector("#example-form");e&&e.remove(),this.render()},m.prototype.addFormEventListeners=function(){var e=document.querySelector("#example-form"),t=new c(e,this.store);console.log("Initialising FormEventHandler"),t.init()},m);function m(e,t){this.store=e,this.accessibleForm=new o(t),this.originalForm=new r(t)}var f={formType:e,formData:{title:"",firstName:"",lastName:"",email:"",phone:"",venueLocation:"",aboutYourself:"",subscribe:!1},formSubmitted:!1},h=(b.prototype.updateFormType=function(e){this.state.formType=e},b.prototype.getFormType=function(){return this.state.formType},b.prototype.updateFormData=function(e){this.state.formData=e},b.prototype.getFormData=function(){return this.state.formData},b.prototype.updateFormSubmitted=function(e){this.state.formSubmitted=e},b.prototype.getFormSubmitted=function(){return this.state.formSubmitted},b);function b(){this.initialState=f,this.state=this.initialState}var v=(y.prototype.init=function(){var e=this;this.targetEventDiv.addEventListener("click",function(){console.log("clicked"),e.switchFormType()})},y.prototype.switchFormType=function(){switch(this.store.getFormType()){case e:this.targetTextDiv.innerHTML="",this.targetTextDiv.innerHTML="switch to original form",this.store.updateFormType(t),this.form.reRender();break;case t:this.targetTextDiv.innerHTML="",this.targetTextDiv.innerHTML="switch to accessible form",this.store.updateFormType(e),this.form.reRender()}},y);function y(e,t){this.store=e,this.form=t,this.targetEventDiv=document.querySelector(".btn-switch"),this.targetTextDiv=document.querySelector(".button-text")}document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#form-root"),t=new h,r=new p(t,e);new v(t,r).init(),r.render()})}();
